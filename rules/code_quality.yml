rules:
- id: overusing-args
  patterns:
    - pattern: |
        def $FUNC(args):
          ...
  message: |
    Using args as argument in functions reduces readability and allows passing ill-specified arguments. Avoid using `args` as only argument unless absolutely necessary.
  languages: [python]
  severity: WARNING


- id: use-frappetestcase
  patterns:
    - pattern: |
        class $TESTCASE(unittest.TestCase):
          ...
  message: |
    Use frappe.tests.utils.FrappeTestCase instead of unittest.TestCase for reducing flaky tests.
  languages: [python]
  severity: WARNING

- id: frappetestcase-missing-super-call
  patterns:
    - pattern: |
        class $TESTCASE(FrappeTestCase):
          @classmethod
          def setUpClass():
            ...
    - pattern-not: |
        class $TESTCASE(FrappeTestCase):
          @classmethod
          def setUpClass():
            ...
            super().setUpClass()
  message: |
    When using FrappeTestCase and overriding setUpClass, you need to call super().setUpClass()
  languages: [python]
  severity: WARNING
